<!DOCTYPE html>
<html lang='en'>
	<head>
		<meta charset='utf-8'>
		<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
		<title>VLC Remote Configuration</title>
		<link href='//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css' rel='stylesheet'>
	</head>

	<body>
		<div class='container' style='margin-top:20px;'>

			<div class='well'>
				<div class='form-group'>
					<label for='server'>Server <small>(eg. 10.0.1.4:8080)</small></label>
					<input type='text' class='form-control' id='server' maxlength='30' />
				</div>

				<div class='form-group'>
					<label for='password'>Password</label>
					<input type='text' class='form-control' id='password' maxlength='30' />
				</div>
			</div>

			<button type='submit' class='btn btn-primary btn-block btn-lg btn-save' id='save'>Save</button>

		</div> <!-- /container -->

		<script src='//code.jquery.com/jquery-1.10.2.min.js'></script>
		<script src='//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js'></script>
		<script>
			function getQueryVariable(variable) {
				var query = location.search.substring(1);
				var vars = query.split('&');
				for (var i=0;i<vars.length;i++) {
					var pair = vars[i].split('=');
					if (pair[0] == variable)
						return decodeURIComponent(pair[1]);
				}
				return '';
			}
			$().ready(function() {
				$('#server').val(getQueryVariable('server_host'));
				$('#password').val(getQueryVariable('server_pass'));
				$('#save').click(function() {
					var ret = {server_host: $('#server').val(), server_pass: $('#password').val()};
					document.location = 'pebblejs://close#' + encodeURIComponent(JSON.stringify(ret));
				});
			});
		</script>
	</body>
</html>
